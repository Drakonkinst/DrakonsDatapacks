function dc_vampire:heal
playsound minecraft:entity.guardian.hurt player @s ~ ~ ~ 1 1

# Add blood
execute if score @s dc_bloodLevel matches -119..0 run tellraw @s ["",{"text":"You are ","italic":true,"color":"dark_red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"hungry","bold":true,"italic":true,"color":"dark_red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"...","italic":true,"color":"dark_red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}}]
execute if score @s dc_bloodLevel matches 1..120 run tellraw @s ["",{"text":"You are ","italic":true,"color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"content","bold":true,"italic":true,"color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"...","italic":true,"color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}}]
execute if score @s dc_bloodLevel matches 241..360 run tellraw @s ["",{"text":"You are ","italic":true,"color":"light_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"sated","bold":true,"italic":true,"color":"light_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"...","italic":true,"color":"light_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}}]
execute if score @s dc_bloodLevel matches 481..600 run tellraw @s ["",{"text":"You are ","italic":true,"color":"dark_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"overflowing","bold":true,"italic":true,"color":"dark_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}},{"text":"...","italic":true,"color":"dark_purple","hoverEvent":{"action":"show_text","contents":[{"text":"Your blood level drains over time. Slay living creatures to refill blood.","italic":false,"color":"green"}]}}]
scoreboard players add @s dc_bloodLevel 120
execute if score @s dc_bloodLevel matches 721.. run scoreboard players set @s dc_bloodLevel 720

# Create a blood effect at the nearest item, assuming it dropped from the mob
tag @s add dc_blood_target
schedule function dc_vampire:scheduled_blood_drop 1t

advancement revoke @s only dc_vampire:kill_living_mob