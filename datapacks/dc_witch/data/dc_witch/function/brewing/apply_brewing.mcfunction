execute if predicate dc_witch:potion/speed run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:speed",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/slowness run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:slowness",amplifier:0,duration:600}
execute if predicate dc_witch:potion/haste run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:haste",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/mining_fatigue run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:mining_fatigue",amplifier:0,duration:600}
execute if predicate dc_witch:potion/strength run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:strength",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/instant_health run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:instant_health",amplifier:0,duration:1}
execute if predicate dc_witch:potion/instant_damage run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:instant_damage",amplifier:0,duration:1}
execute if predicate dc_witch:potion/jump_boost run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:jump_boost",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/nausea run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:nausea",amplifier:0,duration:600}
execute if predicate dc_witch:potion/regeneration run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:regeneration",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/resistance run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:resistance",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/fire_resistance run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:fire_resistance",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/water_breathing run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:water_breathing",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/invisibility run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:invisibility",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/blindness run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:blindness",amplifier:0,duration:600}
execute if predicate dc_witch:potion/night_vision run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:night_vision",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/hunger run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:hunger",amplifier:0,duration:600}
execute if predicate dc_witch:potion/weakness run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:weakness",amplifier:0,duration:600}
execute if predicate dc_witch:potion/poison run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:poison",amplifier:0,duration:600}
execute if predicate dc_witch:potion/wither run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:wither",amplifier:0,duration:600}
execute if predicate dc_witch:potion/health_boost run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:health_boost",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/absorption run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:absorption",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/saturation run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:saturation",amplifier:5,duration:20}
execute if predicate dc_witch:potion/glowing run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:glowing",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/levitation run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:levitation",amplifier:0,duration:600}
execute if predicate dc_witch:potion/luck run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:luck",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/bad_luck run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:bad_luck",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/slow_falling run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:slow_falling",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/conduit_power run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:conduit_power",amplifier:0,duration:2400}
execute if predicate dc_witch:potion/dolphins_grace run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:dolphins_grace",amplifier:0,duration:2400}

# Extra potion types
# Warped fungus gives Hero of the Village, which is consumed to restore spell cooldowns
execute if predicate dc_witch:potion/replenish run data modify entity @e[type=item,tag=dc_targetPotion,limit=1] Item.components."minecraft:potion_contents".custom_effects append value {id:"minecraft:hero_of_the_village",amplifier:0,duration:60}

execute as @e[type=item,limit=1,tag=dc_targetPotion] run function dc_witch:brewing/store_count
execute unless entity @e[type=item,limit=1,tag=dc_targetPotion,tag=dc_validBrew] run function dc_witch:brewing/invalid_item
execute if entity @e[type=item,limit=1,tag=dc_targetPotion,tag=dc_validBrew] run function dc_witch:brewing/brew_success